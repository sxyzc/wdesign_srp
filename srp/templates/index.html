<!DOCTYPE html>
<html>
<head>
<style type="text/css">
    .menu-li-style{border:1px solid #B40607;}//第一层设置属性方便区分
    #menu li ul{border:1px solid #707F8C; display: none;}//第一层以后的设置属性

</style>
<link href="/static/bootstrap.min.css" rel="stylesheet" />
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script>
function loadXMLDoc(dname)
{
    if (window.XMLHttpRequest)
    {
        xhttp=new XMLHttpRequest();
    }
    else
    {
        xhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xhttp.open("GET",dname,false);
    xhttp.send();
    return xhttp.responseXML;
}
mm = 1
function dfs(root_node,argStr)
{
	//mm +=1
	//if(mm>20)return
	console.log(root_node.nodeName)
	var x=root_node.childNodes;
    document.write('<li is_clicked="off">')
    <!--document.write('<a href="test.html">')-->
	document.write('<a href="{% url 'srp:process' %}?argStr=')
	document.write(argStr)
	document.write('">')
    document.write(root_node.getAttribute("displayName"))
    document.write(argStr)
    document.write('</a>')
    
    //document.write('<ul>')
console.log("+++++++    "+x.length)
	//console.log("+++++++")
	var cnt = 0
	//cnt+=1
    var cnt=0
	for (var i=0;i<x.length;i++)
	{ 
	  if (x[i].nodeType==1)
	  {//Process only element nodes (type 1) 
	  	//console.log(x[i].nodeName)
        if(cnt==0){
            document.write('<ul>')
        }
	  	cnt=cnt+1
	  	console.log("$$$$$$$$$$$$")
	  	dfs(x[i],argStr+"|"+(cnt-1))
	  // document.write(x[i].nodeName);
	  // document.write("<br />");
	  } 
	}
    if(cnt>0)document.write('</ul>')
        document.write('</li>')
    
	console.log("--------      "+cnt)
}


</script>

<script type="text/javascript">
    $(document).ready(function(){

		   $ ('#menu li').click (function ()
		   {
			   if ($ (this).attr ("is_clicked") == "on")
			   {
					$('ul',this).slideUp(1000);
				   $ (this).attr ('is_clicked', 'off');
				   console.log("tobeoff"+$(this).text())
			   }
			   else if ($ (this).attr ("is_clicked") == "off")
			   {
					$(this).children('ul').slideDown(1000).show(1000);
				   $ (this).attr ('is_clicked', 'on');
				   console.log("tobeon"+$(this).text())
			   }
			   event.stopPropagation();//阻止事件冒泡即可
		   });
		
    });
</script>

</head>
<body>
<ul id="menu">

<script>

xmlDoc=loadXMLDoc("/static/menu.xml");
 
//x=xmlDoc.documentElement.childNodes[0];
var x=xmlDoc.getElementsByTagName("menuNodes")[0].childNodes;
var cnt =0
for(var i=0;i<x.length;i++){
    if (x[i].nodeType==1){
        cnt+=1
    if(x[i].getAttribute("displayName")=="课程资源")
        dfs(x[i],(cnt-1)+"")
    }
}


//dfs(x)

</script>
<li><a href="a.html">asdfs</a></li>

</ul>

<table class="table">
  {% for res in L %}
          <tr>
          <td>{{res.0}}</a></td>
          <td style="text-align:right">{{res.1}}</td>
          <td >{{res.2}}</td>
          </tr>
  {% endfor %}
</table>

</body>
</html>